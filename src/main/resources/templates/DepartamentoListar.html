<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout/layout :: head">
</head>

<body>
<header th:replace="layout/layout :: header"></header>
<br>

<!--/* CHAT FLOTANTE */-->
<button class="floating-button" onclick="toggleIframe()" style="position: fixed !important; bottom: 20px !important; right: 20px !important; background-color: #fff !important; color: #007bff !important; border: none !important; border-radius: 50% !important; width: 50px !important; height: 50px !important; font-size: 24px !important; text-align: center !important; line-height: 50px !important; cursor: pointer !important; z-index: 9999 !important;">
    <img src="/img/iconchatgpt.png" alt="Icono" style="width: 100%;">
</button>

<div id="iframeContainer" class="card shadow-lg rounded" style="display: none; position: fixed; bottom: 100px; right: 20px; z-index: 9999; width: 350px; height: 500px;">
    <div class="card-header text-white" style="#17A2B8;">
        ASISTENTE
        <button type="button" class="close text-white" aria-label="Close" onclick="toggleIframe()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <!-- iframe flotante -->
    <div class="card-body p-0 border-0 rounded" style="width: 350px; height: 450px;">
        <iframe src="/chatbot" class="w-100 h-100 border-0 rounded" style="background-color: #fff;"></iframe>
    </div>
</div>
<!--/* CHAT FLOTANTE */-->

<div class="container" style="max-width: 80%; padding: 0;">
<h1 style="text-align:center;">LISTA DE DEPARTAMENTOS</h1>
<!--    <a th:href="@{/departamento}" class="btn btn-dark"><i class="fa fa-plus fa-1x" aria-hidden="true"></i>&nbsp NUEVO</a>-->

    <br><br>
    <div class="table-responsive" style="margin: 0;">
        <table id="userList1" class="table table-light table-bordered table-hover table-striped" style="width: 100%; margin: 0;">
            <thead class="thead-dark">
            <tr>
                <th>ID</th>
                <th>NOMBRE</th>
                <th>ESTADO</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="departamento:${departamento}">
                <td th:text="${departamento.codDepartamento}"></td>
                <td th:text="${departamento.nombreDepartamento}"></td>
                <td>
                    <button class="btn btn-success" onclick="toggleEstado(this)" th:text="${departamento.estadoDepartamento}"></button>
                </td>
                <td>
                    <!-- <button class="btn btn-primary" onclick="toggleEstado(this)">Ver Provincias</button>-->
                    <!--<a th:href="@{/provincia}" class="btn btn-primary">Ver Provincias</a>-->
                    <a th:href="@{/provincia/}+${departamento.codDepartamento}" class="btn btn-info">Ver Provincias</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<br><br><br>
<!--/* CHAT FLOTANTE */-->
<script>
    function toggleIframe() {
        var iframeContainer = document.getElementById('iframeContainer');
        if (iframeContainer.style.display === 'none' || iframeContainer.style.display === '') {
            iframeContainer.style.display = 'block';
        } else {
            iframeContainer.style.display = 'none';
        }
    }
</script>
<!--/* CHAT FLOTANTE */-->
<script type="text/javascript" th:src="@{/js/script.js}"></script>
</body>

</html>
